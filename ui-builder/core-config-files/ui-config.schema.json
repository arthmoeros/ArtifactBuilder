{
    "$schema": "http://json-schema.org/draft-06/schema#",
    "$id": "http://artifacter.arthmoeros/ui-config.json",
    "definitions": {
        "mapeableInput_DEF": {
            "additionalProperties": false,
            "required": [
                "label",
                "valueKey"
            ],
            "description": "Defines a mapeable input",
            "properties": {
                "label": {
                    "description": "Label for the input element",
                    "type": "string"
                },
                "valueKey": {
                    "description": "Identifying key for the value contained in the input element. This is used both in the Angular component as well on the Artifacter's Templates",
                    "type": "string"
                }
            }
        },
        "commonInput_DEF": {
            "$merge": {
                "source": {
                    "$ref": "#/definitions/mapeableInput_DEF"
                },
                "with": {
                    "additionalProperties": false,
                    "properties": {
                        "defaultValue": {
                            "description": "Sets a default value for the input element",
                            "type": "string"
                        },
                        "helptext": {
                            "description": "Adds a descriptive help text for the input element",
                            "type": "string"
                        },
                        "readonly": {
                            "description": "If it is present, the input element will be readonly",
                            "type": "string"
                        },
                        "required": {
                            "description": "If it is present, the input element will be rendered as required for the form submit",
                            "type": "string"
                        },
                        "postSubmit": {
                            "description": "Lists the post-submit value processing the input element will have",
                            "$ref": "#/definitions/postSubmit_DEF"
                        }
                    }
                }
            }
        },
        "postSubmit_DEF": {
            "items": [
                {
                    "additionalProperties": false,
                    "required": [
                        "stringOperation"
                    ],
                    "properties": {
                        "stringOperation": {
                            "type": "string",
                            "enum": [
                                "allLowerCase",
                                "allUpperCase",
                                "startWithUpperCase",
                                "startWithLowerCase",
                                "blanksToCamelCase"
                            ]
                        }
                    }
                }
            ],
            "minItems": 1
        },
        "options_DEF": {
            "items": [
                {
                    "additionalProperties": false,
                    "required": [
                        "option"
                    ],
                    "properties": {
                        "option": {
                            "type": "string"
                        }
                    }
                }
            ],
            "minItems": 1
        },
        "textInput_DEF": {
            "$merge": {
                "source": {
                    "$ref": "#/definitions/commonInput_DEF"
                },
                "with": {
                    "additionalProperties": false,
                    "properties": {
                        "placeholder": {
                            "type": "string",
                            "description": "Inserts a placeholder text inside the input box"
                        }
                    }
                }
            }
        },
        "numberInput_DEF": {
            "$merge": {
                "source": {
                    "$ref": "#/definitions/commonInput_DEF"
                },
                "with": {
                    "additionalProperties": false,
                    "properties": {
                        "placeholder": {
                            "type": "string",
                            "description": "Inserts a placeholder text inside the input box"
                        }
                    }
                }
            }
        },
        "checkboxInput_DEF": {
            "$merge": {
                "source": {
                    "$ref": "#/definitions/commonInput_DEF"
                },
                "with": {}
            }
        },
        "fileInput_DEF": {
            "$merge": {
                "source": {
                    "$ref": "#/definitions/mapeableInput_DEF"
                },
                "with": {}
            }
        },
        "choiceInput_DEF": {
            "$merge": {
                "source": {
                    "$ref": "#/definitions/commonInput_DEF"
                },
                "with": {
                    "additionalProperties": false,
                    "required": [
                        "options"
                    ],
                    "properties": {
                        "options": {
                            "description": "Lists the contained options available for the SELECT",
                            "$ref": "#/definitions/options_DEF"
                        }
                    }
                }
            }
        },
        "groupInputs_DEF": {
            "items": [
                {
                    "anyOf": [
                        {
                            "text": {
                                "description": "Renders an input of type TEXT and defines its reference in the artifact building",
                                "$ref": "#/definitions/textInput_DEF"
                            }
                        },
                        {
                            "number": {
                                "description": "Renders an input of type NUMBER and defines its reference in the artifact building",
                                "$ref": "#/definitions/numberInput_DEF"
                            }
                        },
                        {
                            "checkbox": {
                                "description": "Renders an input of type CHECKBOX and defines its reference in the artifact building",
                                "$ref": "#/definitions/checkboxInput_DEF"
                            }
                        },
                        {
                            "file": {
                                "description": "Renders an input of type FILE and defines its reference in the artifact building",
                                "$ref": "#/definitions/fileInput_DEF"
                            }
                        },
                        {
                            "choice": {
                                "description": "Renders an input of type SELECT and defines its reference in the artifact building",
                                "$ref": "#/definitions/choiceInput_DEF"
                            }
                        }
                    ]
                }
            ],
            "minItems": 1
        },
        "inputGroup_DEF": {
            "additionalProperties": false,
            "required": [
                "groupTitle",
                "inputs"
            ],
            "properties": {
                "groupTitle": {
                    "type": "string",
                    "description": "Title for the input group"
                },
                "inputs": {
                    "description": "Lists the containing input elements",
                    "$ref": "#/definitions/groupInputs_DEF"
                }
            }
        },
        "formElements_DEF": {
            "additionalProperties": false,
            "required": [
                "inputGroup"
            ],
            "properties": {
                "inputGroup": {
                    "items": {
                        "description": "Groups a list of input elements",
                        "$ref": "#/definitions/inputGroup_DEF"
                    }
                }
            }
        },
        "form_DEF": {
            "additionalProperties": false,
            "required": [
                "formId",
                "formTitle",
                "formDescription",
                "formFunction",
                "formElements"
            ],
            "properties": {
                "formId": {
                    "type": "string",
                    "description": "Form ID for its use on the Angular Template"
                },
                "formTitle": {
                    "type": "string",
                    "description": "Form title to display"
                },
                "formDescription": {
                    "type": "string",
                    "description": "Form description to display"
                },
                "formFunction": {
                    "type": "string",
                    "description": "Indicates the formFunction to execute on the generator when the form is submitted"
                },
                "formElements": {
                    "$ref": "#/definitions/formElements_DEF",
                    "description": "Groups the form content"
                }
            }
        },
        "generationRequestForm_DEF": {
            "additionalProperties": false,
            "required": [
                "generationRequestFileForm"
            ],
            "properties": {
                "generationRequestFileForm": {
                    "type": "string",
                    "description": "If this element is present instead a whole form, then Artifacter will render a generation request file upload form"
                }
            }
        },
        "metadata_DEF": {
            "additionalProperties": false,
            "required": [
                "generatorKey",
                "generatorComponent",
                "title",
                "description"
            ],
            "properties": {
                "generatorKey": {
                    "type": "string",
                    "description": "Unique key identifier for the forms config, application level"
                },
                "generatorComponent": {
                    "type": "string",
                    "description": "Indicates the Angular component name which is linked to the forms"
                },
                "title": {
                    "type": "string",
                    "description": "Title for the group of forms"
                },
                "description": {
                    "type": "string",
                    "description": "Description for the group of forms"
                }
            }
        },
        "uiConfig_DEF": {
            "additionalProperties": false,
            "required": [
                "metadata",
                "form"
            ],
            "properties": {
                "metadata": {
                    "$ref": "#/definitions/metadata_DEF",
                    "description": "Metadata for the group of forms"
                },
                "form": {
                    "description": "Contains each form configuration",
                    "minItems": 1,
                    "items": [
                        {
                            "oneOf": [
                                {
                                    "$ref": "#/definitions/form_DEF"
                                },
                                {
                                    "$ref": "#/definitions/generationRequestForm_DEF"
                                }
                            ]
                        }
                    ]
                }
            }
        }
    },
    "additionalProperties": false,
    "required": [
        "uiConfig"
    ],
    "properties": {
        "uiConfig": {
            "$ref": "#/definitions/uiConfig_DEF"
        }
    }
}